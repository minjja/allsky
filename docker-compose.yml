version: '3.7'

services:

    httpd:
        image: httpd
        ports:
            - 80:80/tcp
        volumes:
            - type: bind
              source: ./html/
              target: /usr/local/apache2/htdocs/

    certbot:
        image: certbot/certbot
        volumes:
            - type: bind
              source: ./html/
              target: /public/
            - type: bind
              source: ./etc/letsencrypt/
              target: /etc/letsencrypt
        command: --help
        depends_on:
            - httpd
